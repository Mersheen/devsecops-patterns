
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A pattern language for how software engineering organisations build, deliver, and operate software.">
      
      
      
      
        <link rel="prev" href="../043-concurrent-incident-separation/">
      
      
        <link rel="next" href="../045-corrective-action-integration-into-delivery/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>44. Continuous Integration with Comprehensive Tests - A Pattern Language for DevOps</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Serif+Pro:300,300i,400,400i,700,700i%7CSource+Code+Pro:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Source Serif Pro";--md-code-font:"Source Code Pro"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="amber">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#continuous-integration-with-comprehensive-tests" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="A Pattern Language for DevOps" class="md-header__button md-logo" aria-label="A Pattern Language for DevOps" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            A Pattern Language for DevOps
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              44. Continuous Integration with Comprehensive Tests
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="amber"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="amber"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="A Pattern Language for DevOps" class="md-nav__button md-logo" aria-label="A Pattern Language for DevOps" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    A Pattern Language for DevOps
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Patterns
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Patterns
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../001-blast-radius-based-investment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    1. Blast Radius-Based Investment
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../002-working-in-the-open/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2. Working in the Open
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../003-progressive-trust/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    3. Progressive Trust
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../004-shared-ownership-of-production/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    4. Shared Ownership of Production
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../005-content-as-code/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    5. Content as Code
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../006-design-principles-as-alignment-mechanism/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    6. Design Principles as Alignment Mechanism
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../007-knowledge-based-authority/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    7. Knowledge-Based Authority
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../008-platform-team/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    8. Platform Team
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../009-team-aligned-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    9. Team-Aligned Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../010-embedded-technical-leadership/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    10. Embedded Technical Leadership
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../011-error-budget/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    11. Error Budget
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../012-escalation-with-integrity/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    12. Escalation with Integrity
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../013-incentive-alignment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    13. Incentive Alignment
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../014-patch-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    14. Patch Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../015-explicit-coordination-mechanisms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    15. Explicit Coordination Mechanisms
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../016-multidisciplinary-team/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    16. Multidisciplinary Team
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../017-service-standard/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    17. Service Standard
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../018-progressive-rollout/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    18. Progressive Rollout
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../019-blast-radius-limitation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    19. Blast Radius Limitation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../020-deployment-pipeline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    20. Deployment Pipeline
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../021-observability/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    21. Observability
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../022-circuit-breaker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    22. Circuit Breaker
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../023-explicit-service-boundary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    23. Explicit Service Boundary
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../024-rollback-capability/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    24. Rollback Capability
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../025-immutable-infrastructure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    25. Immutable Infrastructure
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../026-asset-inventory/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    26. Asset Inventory
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../027-defence-in-depth/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    27. Defence in Depth
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../028-graceful-degradation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    28. Graceful Degradation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../029-incremental-migration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    29. Incremental Migration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../030-irreversible-action-boundary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    30. Irreversible Action Boundary
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../031-production-faithful-test-environment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    31. Production-Faithful Test Environment
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../032-alerting-on-the-alerts-dead-mans-switch/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    32. Alerting on the Alerts (Dead Man's Switch)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../033-kill-switch/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    33. Kill Switch
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../034-blameless-post-incident-review/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    34. Blameless Post-Incident Review
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../035-contract-first-integration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    35. Contract-First Integration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../036-incident-response-procedure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    36. Incident Response Procedure
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../037-open-incident-communication/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    37. Open Incident Communication
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../038-rollback-first-recovery/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    38. Rollback-First Recovery
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../039-chaos-engineering/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    39. Chaos Engineering
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../040-service-level-objective/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    40. Service Level Objective
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../041-stress-testing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    41. Stress Testing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../042-small-batches/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    42. Small Batches
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../043-concurrent-incident-separation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    43. Concurrent Incident Separation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    44. Continuous Integration with Comprehensive Tests
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    44. Continuous Integration with Comprehensive Tests
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#forces" class="md-nav__link">
    <span class="md-ellipsis">
      
        Forces
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Forces">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-the-forces-apply" class="md-nav__link">
    <span class="md-ellipsis">
      
        How the forces apply
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scarcity-constraint" class="md-nav__link">
    <span class="md-ellipsis">
      
        Scarcity constraint
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#real-world-scenarios" class="md-nav__link">
    <span class="md-ellipsis">
      
        Real-World Scenarios
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Real-World Scenarios">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#where-this-pattern-helped-or-its-absence-hurt" class="md-nav__link">
    <span class="md-ellipsis">
      
        Where this pattern helped (or its absence hurt)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    <span class="md-ellipsis">
      
        References
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../045-corrective-action-integration-into-delivery/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    45. Corrective Action Integration into Delivery
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../046-cutover-rehearsal/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    46. Cutover Rehearsal
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../047-iterative-delivery/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    47. Iterative Delivery
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../048-legacy-integration-risk-treatment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    48. Legacy Integration Risk Treatment
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../049-load-testing-as-engineering-practice/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    49. Load Testing as Engineering Practice
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../050-user-research-as-a-continuous-practice/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    50. User Research as a Continuous Practice
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../051-verified-recovery/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    51. Verified Recovery
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../052-continuous-vulnerability-scanning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    52. Continuous Vulnerability Scanning
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../053-dead-code-removal/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    53. Dead Code Removal
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../054-deployment-verification/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    54. Deployment Verification
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../055-branch-based-testing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    55. Branch-Based Testing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../056-certificate-and-secret-lifecycle-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    56. Certificate and Secret Lifecycle Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../057-ephemeral-build-environment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    57. Ephemeral Build Environment
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../058-feature-flag-lifecycle-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    58. Feature Flag Lifecycle Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../059-principle-of-least-privilege/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    59. Principle of Least Privilege
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../060-reproducible-build/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    60. Reproducible Build
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../061-software-bill-of-materials/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    61. Software Bill of Materials
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../062-transitive-dependency-awareness/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    62. Transitive Dependency Awareness
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#forces" class="md-nav__link">
    <span class="md-ellipsis">
      
        Forces
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Forces">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-the-forces-apply" class="md-nav__link">
    <span class="md-ellipsis">
      
        How the forces apply
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scarcity-constraint" class="md-nav__link">
    <span class="md-ellipsis">
      
        Scarcity constraint
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#real-world-scenarios" class="md-nav__link">
    <span class="md-ellipsis">
      
        Real-World Scenarios
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Real-World Scenarios">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#where-this-pattern-helped-or-its-absence-hurt" class="md-nav__link">
    <span class="md-ellipsis">
      
        Where this pattern helped (or its absence hurt)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    <span class="md-ellipsis">
      
        References
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="continuous-integration-with-comprehensive-tests">Continuous Integration with Comprehensive Tests **<a class="headerlink" href="#continuous-integration-with-comprehensive-tests" title="Permanent link">&para;</a></h1>
<p><em>When <strong>Content as Code (5)</strong> treats all changes as versioned artifacts, <strong>Platform Team (8)</strong> provides self-service CI/CD infrastructure, <strong>Service Standard (17)</strong> mandates quality gates for production services, and <strong>Deployment Pipeline (20)</strong> automates the path from commit to production, code that is integrated infrequently makes integration a high-risk event, and sparse tests force heroic manual testing before every release.</em></p>
<hr />
<p><strong>Every software team faces the question of when to integrate changes into the shared codebase. The naive path is to allow engineers to work on isolated branches for days or weeks before integrating. Integration happens when the feature is "done." This feels safe — the engineer controls their environment, there are no conflicts with other people's work, nothing can break the shared build. But the safety is illusory. When the branch finally integrates, it conflicts with every other change made during the isolation period. The conflicts are not trivial: they involve semantic incompatibilities that the version control system cannot detect. The database schema changed. The API contract evolved. The configuration format was updated. Resolving the conflicts requires days of debugging. The longer the branch lived, the more expensive the integration. Without automated tests, the team discovers integration failures through manual testing, incidents, or customer reports — each progressively more expensive than the last.</strong></p>
<hr />
<p>The foundational insight, articulated by Martin Fowler in 2006 but practiced earlier by Extreme Programming teams, is that integrating continuously — multiple times per day — makes integration cheap. When changes are integrated every few hours, conflicts are small and easy to resolve. When the build breaks, the cause is obvious: it was the change you just committed. When a test fails, you know which change broke it because only one change has been made since the last green build. Continuous integration converts integration from a high-risk event into a routine background activity that happens automatically and nearly invisibly.</p>
<p>But continuous integration without comprehensive tests is dangerous. If the build passes but the software is broken, continuous integration delivers broken software to production faster. The tests must be comprehensive enough to catch regressions: changes that break existing functionality. This does not mean 100% code coverage — coverage is a weak proxy for quality. It means that critical invariants and safety constraints are encoded in tests: authentication is required for protected endpoints, data validation prevents SQL injection, rate limiting prevents abuse, backward compatibility is maintained for public APIs. These tests are load-bearing: they hold the system's behavior constant while the code evolves.</p>
<p>Knight Capital's August 2012 loss of $460 million was partly a testing failure. A feature flag was reused to control new functionality, but the old functionality — a deprecated feature called "Power Peg" — had never been removed, and its tests had been deleted during a 2005 refactor. There were no tests verifying that the reused flag did not activate deprecated code. When deployment activated the flag, the defunct code executed. In 45 minutes, the system executed 4 million erroneous trades. Comprehensive tests would have caught this: a test verifying that the reused flag activated only the new behavior would have failed when the old code was still present. The absence of tests meant the absence of verification.</p>
<p>The pattern requires discipline about test deletion. Tests encode assumptions about how the system should behave. Deleting a test removes that assumption from the system's memory. Knight Capital deleted tests for Power Peg during a refactor, which removed the organizational memory that Power Peg existed and should not be reactivated. The discipline is: tests are deleted only when the behavior they specify is deliberately changed, and the deletion is reviewed with the same rigor as a code change. If a test is flaky, fix the test or fix the code, but do not delete the test to make the build green.</p>
<p>Comprehensive automated tests remove the need for heroic manual testing before releases. Engineers can deploy at any time because the tests validate correctness. This is the safety mechanism that makes continuous deployment psychologically possible: automation is not the absence of verification but a more rigorous form of it.</p>
<p>The test suite must run in the deployment pipeline. <strong>Deployment Pipeline (20)</strong> ensures that every change passes the full test suite before reaching production. Failures block deployment automatically, not through human judgment. This makes the tests the gatekeepers of production: if the tests pass, the change is safe enough to deploy; if the tests fail, the change is not safe. The pipeline converts subjective judgment ("is this ready?") into objective verification ("do the tests pass?").</p>
<p>The cost is that maintaining comprehensive tests is a significant ongoing investment. Tests must be updated when behavior changes. Fast test suites require infrastructure investment: parallelization, test data management, isolated test environments. The discipline of not deleting tests adds friction: every test deletion must be justified. But the alternative — debugging integration failures manually, testing heroically before releases, discovering regressions in production — is more expensive over time.</p>
<p>Therefore:</p>
<p><strong>Every change is integrated into the shared codebase continuously — multiple times per day — and automatically tested. The test suite covers critical invariants and safety constraints: authentication and authorization rules, data validation, error handling, backward compatibility, and integration points with external systems. Tests are treated as load-bearing structures: they cannot be deleted without review, and deleting a test requires justifying why the behavior it specifies is no longer required. The test suite runs in the deployment pipeline, and failures block deployment automatically. Integration happens on a shared branch (trunk-based development) or through short-lived feature branches that integrate within a day. The suite is fast enough — typically under ten minutes for the commit stage — that engineers receive feedback before context-switching. Test failures are treated as production incidents: the team stops and fixes them immediately rather than allowing them to accumulate. The discipline is that the build is always green: if a commit breaks the build, the committer either fixes it immediately or reverts the commit.</strong></p>
<hr />
<p><em>Continuous Integration with Comprehensive Tests is completed by <strong>Contract-First Integration (35)</strong>, which ensures that integration contracts between services are tested on every build, catching cross-service breakage before deployment. <strong>Small Batches (42)</strong> keeps changes small enough that integration is cheap and failures are easy to isolate. <strong>Branch-Based Testing (55)</strong> validates changes on feature branches before merging, preventing integration breakage from reaching the shared codebase. <strong>Reproducible Build (60)</strong> ensures that the same source code always produces the same artifact, making test results reliable and deployment deterministic.</em></p>
<h2 id="forces">Forces<a class="headerlink" href="#forces" title="Permanent link">&para;</a></h2>
<h3 id="how-the-forces-apply">How the forces apply<a class="headerlink" href="#how-the-forces-apply" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><strong>Speed vs Safety</strong>: This is the primary force. Continuous integration feels risky because it requires committing unfinished work frequently. Comprehensive tests feel slow because they add overhead to every commit. The pattern resolves this by making speed and safety mutually reinforcing: integrating frequently (speed) catches conflicts early when they are cheap to fix (safety); comprehensive tests (safety) enable confident deployment (speed). The tests are the safety mechanism that makes speed possible.</p>
</li>
<li>
<p><strong>Scope vs Comprehensibility</strong>: Without continuous integration, the scope of unintegrated changes grows beyond comprehension: after a week on a branch, the engineer cannot predict how their work will interact with everyone else's. Continuous integration reduces scope: the longest any change remains unintegrated is a few hours, making interactions comprehensible. But comprehensive tests increase scope: the full test suite covers more behavior than any individual can remember. The pattern resolves this by making tests the external memory: engineers do not need to remember every invariant because the tests remember for them.</p>
</li>
<li>
<p><strong>Autonomy vs Alignment</strong>: Engineers need autonomy to work on features without constant coordination. The organization needs alignment so that changes do not conflict. Continuous integration enforces alignment mechanically: changes that conflict cause test failures, which must be resolved. Autonomy is preserved because engineers control what they commit and when; alignment is preserved because the shared build is the source of truth.</p>
</li>
<li>
<p><strong>Determinism vs Adaptability</strong>: The test suite is deterministic: the same code always produces the same test results. This determinism is the source of reliability: tests catch regressions mechanically. But maintaining the suite requires adaptability: tests must evolve as the product evolves, new tests must be added for new behavior, flaky tests must be fixed or removed. The pattern resolves this by treating tests as code: they are versioned, reviewed, and refactored using the same disciplines as production code.</p>
</li>
</ul>
<h3 id="scarcity-constraint">Scarcity constraint<a class="headerlink" href="#scarcity-constraint" title="Permanent link">&para;</a></h3>
<p>Comprehensive tests require organisations to invest in test infrastructure, test maintenance, and cultural discipline against deleting tests. Test infrastructure includes: parallel test execution (to keep suites fast), test data management (to provide realistic test conditions), isolated test environments (to prevent tests from interfering with each other). Test maintenance is ongoing: tests must be updated when behavior changes, flaky tests must be debugged, slow tests must be optimized. The discipline against deletion is cultural: it requires resisting the pressure to delete failing tests to make the build green, which competes with the pressure to ship quickly. The scarcity is engineering time: every hour spent maintaining tests is an hour not spent on features. Justifying this investment requires leadership who understand that tests are not overhead but the mechanism that makes sustained velocity possible. The investment pays off over months or years as the test suite prevents regressions that would otherwise require debugging, support escalations, and incident responses.</p>
<h2 id="real-world-scenarios">Real-World Scenarios<a class="headerlink" href="#real-world-scenarios" title="Permanent link">&para;</a></h2>
<h3 id="where-this-pattern-helped-or-its-absence-hurt">Where this pattern helped (or its absence hurt)<a class="headerlink" href="#where-this-pattern-helped-or-its-absence-hurt" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><strong>The missed server (Knight Capital, August 2012)</strong>: Knight Capital lost $460 million in 45 minutes when a deployment reused a feature flag that activated deprecated code. The deprecated code (Power Peg) had been disabled in 2005, and its tests were deleted during a refactor. When the flag was reused in 2012, there were no tests verifying that activating the flag did not reactivate Power Peg. The absence of comprehensive tests meant the absence of verification. An automated test suite covering the flag's behavior would have failed when the deprecated code was still present, catching the error before deployment.</p>
</li>
<li>
<p><strong>Extreme Programming and continuous integration (1999-present)</strong>: Extreme Programming, articulated by Kent Beck in 1999, popularized continuous integration as a core practice. XP teams integrated multiple times per day, ran the full test suite on every integration, and treated build failures as stop-the-line events. The practice spread beyond XP and became industry standard. Martin Fowler's 2006 article "Continuous Integration" codified the practice and established that integration should happen at least daily, with a comprehensive automated test suite running on every commit.</p>
</li>
<li>
<p><strong>Etsy (2008-2014)</strong>: Etsy's transformation included adopting continuous integration with comprehensive tests. The company built Try, a tool that allowed engineers to test changes in CI without committing to trunk. The test suite ran on every commit, and failures blocked deployment. This discipline enabled Etsy to deploy 50+ times per day by 2014 with low incident rates. The tests were the safety mechanism that made the deployment frequency possible: engineers could deploy confidently because the tests validated correctness.</p>
</li>
<li>
<p><strong>Test-Driven Development movement (2000s-present)</strong>: TDD, popularized by Kent Beck's <em>Test Driven Development: By Example</em> (2002), established the discipline of writing tests before code. TDD teams write a failing test, write the minimum code to make it pass, refactor, and repeat. The practice ensures comprehensive test coverage because tests are the specification of behavior. TDD's influence spread the understanding that tests are not overhead but the primary mechanism for maintaining code quality as the system evolves.</p>
</li>
</ul>
<h2 id="references">References<a class="headerlink" href="#references" title="Permanent link">&para;</a></h2>
<ul>
<li>Martin Fowler, "Continuous Integration" (martinfowler.com, 2006) — canonical article defining the practice</li>
<li>Kent Beck, <em>Test Driven Development: By Example</em> (Addison-Wesley, 2002) — foundational TDD text</li>
<li>Jez Humble and David Farley, <em>Continuous Delivery: Reliable Software Releases through Build, Test, and Deployment Automation</em> (Addison-Wesley, 2010), Chapters 4-5 on implementing automated testing</li>
<li>Paul Duvall, Steve Matyas, and Andrew Glover, <em>Continuous Integration: Improving Software Quality and Reducing Risk</em> (Addison-Wesley, 2007)</li>
<li>Gerard Meszaros, <em>xUnit Test Patterns: Refactoring Test Code</em> (Addison-Wesley, 2007) — comprehensive patterns for test design</li>
<li>SEC Press Release 2013-222, "SEC Charges Knight Capital With Violations of Market Access Rule" — Knight Capital case study</li>
<li>Etsy Code as Craft, "Try: a tool for Continuous Integration" (2011) — Etsy's approach to CI</li>
<li>Kent Beck and Cynthia Andres, <em>Extreme Programming Explained: Embrace Change</em>, 2nd Edition (Addison-Wesley, 2004) — XP practices including CI</li>
</ul>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      CC BY-SA 4.0
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.instant", "navigation.sections", "navigation.expand", "search.suggest", "search.highlight", "content.code.copy", "toc.follow"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>